<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="studyseatMapper_cs.StudyseatMapper">
	<select id="readuseseat" resultType="studyseatdomain_cs.SeatVO">
  		select user_id,num_using from active_reservation where cafe_no = #{cafe_no}
	</select>
	
	<insert id="insert" parameterType="map">
		insert into active_reservation values (active_reservation_pk.nextval, sysdate, 'SEAT', #{num_using}, #{cafe_no}, #{id})
	</insert>
	
	<select id="isSeatAvailable" resultType="boolean">
		SELECT COUNT(*) as count FROM active_reservation WHERE cafe_no = #{cafeNo} AND num_using = #{seatNo}
	</select>
</mapper>